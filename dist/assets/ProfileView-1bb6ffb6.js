import{r as o,i as f,k as g,l as p,T as k,o as b,c as _,a as h,b as s,t as v,w as x,v as y,u as i,n as w,F as U,m as r,_ as V,d as A,K as B,A as m,U as M}from"./index-c8237b84.js";const T=s("h1",{class:"pt-16"},"Профиль",-1),j={class:"flex justify-center"},E={__name:"ProfileView",setup(z){const n=o(),l=f(),t=o(),a=o();g(async()=>{console.log("onMounted"),n.value=l.currentUser.uid,p(k(r,"users"),d=>{d.forEach(e=>{e.data().uid==n.value&&(console.log(e.id," hi ",e.data()),t.value=e.data().nickname)})})});let c=()=>{a.value&&(t.value?(B(m(r,"users",l.currentUser.uid),{nickname:a.value}),console.log("1")):(M(m(r,"users",l.currentUser.uid),{nickname:a.value,uid:n.value}),console.log("2")),a.value=null)};return(d,e)=>(b(),_(U,null,[h(V),s("div",{style:w([{background:`url(${i(A)})`},{"background-size":"100% 100%"}]),class:"min-h-screen w-full text-white text-center"},[T,s("p",null,v(t.value?t.value:"Добавте свой nickname"),1),s("div",j,[x(s("input",{class:"m-3 p-1 rounded-lg indent-1 bg-gray-500/25 focus:outline focus:outline-2 focus:outline-white","onUpdate:modelValue":e[0]||(e[0]=u=>a.value=u),type:"text"},null,512),[[y,a.value]]),s("a",{class:"btn m-2 p-2 text-center text-white bg-cyan-500/25 hover:bg-cyan-500/50 hover:scale-110 ease-out transition backdrop-blur-xl rounded-xl",onClick:e[1]||(e[1]=(...u)=>i(c)&&i(c)(...u))},v(t.value?"Изменить":"Добавить"),1)])],4)],64))}};export{E as default};
